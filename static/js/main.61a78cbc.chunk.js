(this.webpackJsonptdd_tutorial=this.webpackJsonptdd_tutorial||[]).push([[0],{104:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),c=r(9),s=r.n(c),u=r(27),i=r(62),o=r(61),d=r.n(o),l=r(151),j=r(152),b=r(153),h=r(154),O=r(39),f=r(155),p=r(18),x=r(58),v=r(59),R=r(15),g="STORE_RESTAURANTS",m="START_LOADING",y="RECORD_LOADING_ERROR",E="ADD_RESTAURANT",A=function(){return{type:m}},S=function(t){return{type:g,records:t}},T=function(){return{type:y}},w=function(t){return{type:E,record:t}},D=Object(p.combineReducers)({records:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:return e.records;case E:return[].concat(Object(R.a)(t),[e.record]);default:return t}},loading:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:return!0;case g:case y:return!1;default:return t}},loadError:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:return!1;case y:return!0;default:return t}}}),N=Object(p.combineReducers)({restaurants:D}),_=r(60),k=r.n(_).a.create({baseURL:"https://outside-in-dev-api.herokuapp.com/L0zDUEygBcByT1fkNYho28skt5Cey7pv"}),L={loadRestaurants:function(){return k.get("/restaurants").then((function(t){return t.data}))},createRestaurant:function(t){return k.post("/restaurants",{name:t}).then((function(t){return t.data}))}},U=Object(p.createStore)(N,Object(p.compose)(Object(p.applyMiddleware)(x.a.withExtraArgument(L)),Object(v.devToolsEnhancer)())),B=r(149),C=r(150),I=r(16),G=r(141),J=r(157),M=r(156),q=r(158),z=r(145),F=r(6),P=Object(G.a)((function(t){return{root:{"& > *":{margin:t.spacing(1)}}}})),W={createRestaurant:function(t){return function(e,r,n){return n.createRestaurant(t).then((function(t){e(w(t))}))}}},Y=Object(u.b)((function(t){return{}}),W)((function(t){var e=t.createRestaurant,r=P(),a=Object(n.useState)(""),c=Object(I.a)(a,2),s=c[0],u=c[1],i=Object(n.useState)(!1),o=Object(I.a)(i,2),d=o[0],l=o[1],j=Object(n.useState)(!1),b=Object(I.a)(j,2),h=b[0],O=b[1];return Object(F.jsxs)("form",{onSubmit:function(t){t.preventDefault(),s?(l(!1),O(!1),e(s).then((function(){u("")})).catch((function(){O(!0)}))):l(!0)},children:[h?Object(F.jsx)(q.a,{severity:"error",children:"The restaurant could not be saved. Please try again."}):null,d?Object(F.jsx)(q.a,{severity:"error",children:"Name is required"}):null,Object(F.jsxs)(J.a,{display:"flex",className:r.root,children:[Object(F.jsx)(M.a,{placeholder:"Add Restaurant",fullWidth:!0,variant:"filled",value:s,onChange:function(t){return u(t.target.value)}}),Object(F.jsx)(z.a,{type:"submit",variant:"contained",color:"primary","data-testid":"new-restaurant-submit-button",children:"Add"})]})]})})),H=r(146),K=r(144),Q=r(147),V=r(148),X={loadRestaurants:function(){return function(t,e,r){t(A()),r.loadRestaurants().then((function(e){t(S(e))})).catch((function(){t(T())}))}}},Z=Object(u.b)((function(t){return{restaurants:t.restaurants.records,loading:t.restaurants.loading,loadError:t.restaurants.loadError}}),X)((function(t){var e=t.loadRestaurants,r=t.restaurants,a=t.loading,c=t.loadError;return Object(n.useEffect)((function(){e()}),[e]),Object(F.jsxs)(F.Fragment,{children:[a?Object(F.jsx)(H.a,{"data-testid":"loading-indicator"}):null,Object(F.jsx)(K.a,{children:r.map((function(t){return Object(F.jsx)(Q.a,{children:Object(F.jsx)(V.a,{children:t.name})},t.id)}))}),c?Object(F.jsx)(q.a,{severity:"error",children:"Restaurants could not be loaded."}):null]})})),$=function(){return Object(F.jsx)("div",{children:Object(F.jsx)(B.a,{children:Object(F.jsxs)(C.a,{children:[Object(F.jsx)(O.a,{variant:"h5",children:"Restaurants"}),Object(F.jsx)(Y,{}),Object(F.jsx)(Z,{})]})})})},tt=Object(i.a)({palette:{primary:d.a}}),et=function(){return Object(F.jsx)(u.a,{store:U,children:Object(F.jsxs)(l.a,{theme:tt,children:[Object(F.jsx)(j.a,{}),Object(F.jsx)(b.a,{position:"static",children:Object(F.jsx)(h.a,{children:Object(F.jsx)(O.a,{variant:"h6",children:"Opinion Ate"})})}),Object(F.jsx)(f.a,{children:Object(F.jsx)($,{})})]})})};s.a.render(Object(F.jsx)(a.a.StrictMode,{children:Object(F.jsx)(et,{})}),document.getElementById("root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.61a78cbc.chunk.js.map